<html>
<head>
	<meta charset="UTF-8">
	<title>String Transfer</title>
</head>
<body>
	If you have any problem or advice, please <a href="https://github.com/taoqf/taoqf.github.io/issues">let me know.</a>
	<ul>
		<li>Type or Past (ctrl + c) String in the left box below, usually you don't need to select the whole text(cause it's selected when mouse inside range) and type <b>Del</b> to erase the string.</li>
		<li>Click the button.</li>
		<li>Done. The Result is <b>already copied</b>. This means You do not need do the <b>Copy</b> things.</li>
		<li>Good luck.</li>
	</ul>
	<pre id="info" style="text-align: center;">&nbsp;</pre>
	<table style="width: 100%;">
		<tr>
			<td colspan="3"><label>To Human</label></td>
		</tr>
		<tr>
			<td style="width: 48%;">
				<textarea id="t1" rows="20" style="width:100%">This \r\n is \"A\"\r\n \t testing value.</textarea>
			</td>
			<td>
				<input type="button" id="b1" value="=>">
			</td>
			<td style="width: 48%;">
				<textarea id="r1" rows="20" style="width:100%" readonly></textarea>
			</td>
		</tr>
		<tr>
			<td colspan="3"><label>To String</label></td>
		</tr>
		<tr>
			<td>
				<textarea id="t2" rows="20" style="width:100%">This
 is "A"
 	 testing value.</textarea>
			</td>
			<td>
				<input type="button" id="b2" value="=>">
			</td>
			<td>
				<textarea id="r2" rows="20" style="width:100%" readonly></textarea>
			</td>
		</tr>
	</table>
	<script>
		var p1 = document.getElementById('p1');
		var p11 = document.getElementById('p11');
		var t1 = document.getElementById('t1');
		var r1 = document.getElementById('r1');
		var t2 = document.getElementById('t2');
		var r2 = document.getElementById('r2');
		var b1 = document.getElementById('b1');
		var b2 = document.getElementById('b2');
		var info = document.getElementById('info');
		function show_msg(msg){
			info.textContent = msg;
			setTimeout(function(){
				info.textContent = ' ';
			}, 2000);
		}
		b1.addEventListener('click', function(e){
			if(t1.value){
				r1.value = t1.value.replace(/\\\\r\\\\n/g, "\n").replace(/\\r\\n/g, "\n").replace(/\\n/g, "\n").replace(/\\\\\"/g, "\"").replace(/\\\"/g, "\"").replace(/\\t/g, "\t");
				r1.select();
				document.execCommand("Copy");
				show_msg("Result copied.");
			}
		});
		b2.addEventListener('click', function(e){
			if(t2.value){
				r2.value = t2.value.replace(/\n/g, "\\r\\n").replace(/\"/g, "\\\"").replace(/\t/g, "\\t");
				r2.select();
				document.execCommand("Copy");
				show_msg("Result copied.");
			}
		});
		t1.addEventListener('mouseover', function(e){
			t1.select();
		});
		t2.addEventListener('mouseover', function(e){
			t2.select();
		});
	</script>
</body>
</html>